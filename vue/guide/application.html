<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Building Larger Apps - vue.js</title>
        <meta charset="utf-8">
        <meta name="description" content="Vue.js - Intuitive, Fast and Composable MVVM for building interactive interfaces.">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600|Lato|Inconsolata' rel='stylesheet' type='text/css'>
        <link rel="icon" href="/images/logo.png" type="image/x-icon">
        <script>
            window.PAGE_TYPE = "guide"
        </script>
        <link rel="stylesheet" href="/vue/css/page.css" type="text/css">

        <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46852172-1', 'vuejs.org');
  ga('send', 'pageview');
</script>
        <script src="/js/vue.min.js"></script>
    </head>
    <body>
        <div id="mobile-bar">
            <a class="menu-button"></a>
            <a class="logo" href="/"></a>
        </div>
        
        
            <div id="header">
    <a id="logo" href="/">
        <img src="/images/logo.png">
        <span>Vue.js</span>
    </a>
    <ul id="nav">
        <li><a href="/guide/" class="nav-link current">教程</a></li>
<li><a href="/api/" class="nav-link">API 参考</a></li>
<li><a href="/examples/" class="nav-link">例子</a></li>
<li><a href="/blog/" class="nav-link">Blog</a></li>
<li><a href="https://github.com/yyx990803/vue" target="_blank" class="nav-link">GitHub</a></li>
    </ul>
</div>
        

        <div id="main">
            
                
    <div class="sidebar">
    <ul class="main-menu">
        <li><a href="/guide/" class="nav-link current">教程</a></li>
<li><a href="/api/" class="nav-link">API 参考</a></li>
<li><a href="/examples/" class="nav-link">例子</a></li>
<li><a href="/blog/" class="nav-link">Blog</a></li>
<li><a href="https://github.com/yyx990803/vue" target="_blank" class="nav-link">GitHub</a></li>
    </ul>
    <div class="list">
        <h2>Guide</h2>
        <ul class="menu-root">
            
                <li><a href="/guide/installation.html" class="sidebar-link">Installation</a></li>
            
                <li><a href="/guide/index.html" class="sidebar-link">开始吧！马猴烧酒</a></li>
            
                <li><a href="/guide/directives.html" class="sidebar-link">教练，我想学指令</a></li>
            
                <li><a href="/guide/filters.html" class="sidebar-link">我在学过滤器的道路上迷失了方向</a></li>
            
                <li><a href="/guide/list.html" class="sidebar-link">不是假发，是列表</a></li>
            
                <li><a href="/guide/events.html" class="sidebar-link">事件的监听</a></li>
            
                <li><a href="/guide/forms.html" class="sidebar-link">处理表单</a></li>
            
                <li><a href="/guide/computed.html" class="sidebar-link">燃烧小宇宙吧！计算属性！</a></li>
            
                <li><a href="/guide/transitions.html" class="sidebar-link">我要替天行道，增加动画效果</a></li>
            
                <li><a href="/guide/composition.html" class="sidebar-link">Composing Components</a></li>
            
                <li><a href="/guide/application.html" class="sidebar-link current">Building Larger Apps</a></li>
            
                <li><a href="/guide/plugin.html" class="sidebar-link">Plugins</a></li>
            
            <li style="margin:10px 0 3px">
              <script data-gittip-username="yyx990803"
                data-gittip-widget="button"
                src="//gttp.co/v1.js"></script>
            </li>
        </ul>
    </div>
</div>

<div class="content guide with-sidebar">
    <h1>Building Larger Apps</h1>
    <div id="ad">
        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=vuejs" id="_carbonads_js"></script>
    </div>
    <p>Vue.js is designed to be as flexible as possible - it’s just an interface library that doesn’t enforce any architectural decisions. While this can be very useful for rapid prototyping, it could be a challenge for those with less experience to build larger scale applications with it. The following is an opinionated perspective on how to organize larger projects when using Vue.js.</p>
<h2 id="Build_with_Component">Build with Component</h2>
<p><img src="http://component.io/boot/images/logo.png"></p>
<p>Vue.js is built with <a href="https://github.com/component/component" target="_blank" rel="external">Component</a>, a front-end package manager and build tool. With Component you can write your browser code in the format of CommonJS modules (the same format Node.js uses), and publish packages simply by pushing them to public GitHub repositories. This helps greatly with both code modularization and reusability. For a boilerplate of using Vue.js with Component, see the <a href="https://github.com/vuejs/vue-component-example" target="_blank" rel="external">vue-component-example</a>.</p>
<p>There are already <a href="https://github.com/component/component/wiki/Components" target="_blank" rel="external">a great number of public components</a> available that deal with common problems in front-end applications. For a larger scale application, you can use Vue.js as the interface layer and fill in the missing pieces with other components.</p>
<p>Alternatively, <a href="http://browserify.org/" target="_blank" rel="external">Browserify</a> is another excellent CommonJS based build system for browser JavaScript. Instead of GitHub repos, Browserify leverages NPM as its package manager and also has a thriving community.</p>
<h2 id="Modularization">Modularization</h2>
<p>Component as a build tool not only deals with JavaScript; it can also build CSS, templates and other assets. With builder hooks it can also pre-process files written in non-native formats, e.g. CoffeeScript, SASS and Stylus. Therefore it is possible to deliver highly self-contained components that encapsulate template structure, JavaScript logic and CSS presentation at the same time. A simple example can be found <a href="https://github.com/vuejs/vue-component-example/tree/master/src/components/a" target="_blank" rel="external">here</a>.</p>
<p>Similar modularization can be achieved in Browserify too, with transform plugins such as <a href="https://github.com/bclinkinbeard/partialify" target="_blank" rel="external">partialify</a>. A simple setup example can be found <a href="https://github.com/vuejs/vue-browserify-example" target="_blank" rel="external">here</a>.</p>
<h2 id="Routing">Routing</h2>
<p>You can implement some rudimentary routing logic by manually listening on hashchange and utilizing the <code>v-view</code> direcitve. The <code>v-view</code> directive is essentially a dynamic component loader: it binds to a string value and creates a new VM instance using that string as the Component ID (and destroys the old VM if it exists). Example:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"app"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">v-view</span>=<span class="value">"currentView"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></div></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Vue.component(<span class="string">'home'</span>, { <span class="comment">/* ... */</span> })</div><div class="line">Vue.component(<span class="string">'page1'</span>, { <span class="comment">/* ... */</span> })</div><div class="line"></div><div class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> Vue({</div><div class="line">    el: <span class="string">'#app'</span>,</div><div class="line">    data: {</div><div class="line">        currentView: <span class="string">'home'</span></div><div class="line">    }</div><div class="line">})</div></pre></td></tr></table></figure>

<p>The <code>home</code> component will be rendered in place of <code>v-view</code>. When <code>currentView</code>‘s value changes to <code>page1</code>, the existing <code>home</code> component will be destroyed and replaced by the new <code>page1</code> component. The full, more detailed example can be found <a href="https://github.com/yyx990803/vue/blob/master/test/functional/fixtures/routing.html" target="_blank" rel="external">here</a>.</p>
<p class="tip"><code>v-view</code> will replace the element it’s bound to with the new instantiated VM’s element, so avoid using it on your root element.</p>

<p>With <code>v-view</code> it’s very easy to leverage standalone routing libraries such as <a href="https://github.com/visionmedia/page.js" target="_blank" rel="external">Page.js</a> and <a href="https://github.com/flatiron/director" target="_blank" rel="external">Director</a>. There is a plan to provide a vue-router component that integrates with Vue.js for easier routing and deep linking.</p>
<h2 id="Communication_with_Server">Communication with Server</h2>
<p>All Vue.js ViewModels can have their raw <code>$data</code> directly serialized with <code>JSON.stringify()</code> with no additional effort. You can use any Ajax component you like, for example <a href="https://github.com/visionmedia/superagent" target="_blank" rel="external">SuperAgent</a>. It also plays nicely with no-backend services such as Firebase. In addition there is a plan to provide a vue-resource component that resembles Angular’s <code>$resource</code>, to make interfacing with a REST API easier.</p>
<h2 id="Unit_Testing">Unit Testing</h2>
<p>By using Component, Vue.js entities (ViewModel constructors, directives, filters) within a large project can be split into separate CommonJS modules. When a Component-based project is built without the <code>standalone</code> flag, it will expose its <code>require()</code> method, granting access to all these internal modules. This makes it quite easy to write browser unit tests - just include the test build and require the module you want to test.</p>
<p>The best practice is to export raw options / functions inside modules. Consider this example:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// my-component.js</span></div><div class="line"><span class="built_in">module</span>.exports = {</div><div class="line">    created: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{</div><div class="line">        <span class="keyword">this</span>.message = <span class="string">'hello!'</span></div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>

<p>You can use that file in your entry module like this:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// main.js</span></div><div class="line"><span class="keyword">var</span> Vue = <span class="built_in">require</span>(<span class="string">'vue'</span>)</div><div class="line"></div><div class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> Vue({</div><div class="line">    el: <span class="string">'#app'</span>,</div><div class="line">    data: { <span class="comment">/* ... */</span> },</div><div class="line">    components: {</div><div class="line">        <span class="string">'my-component'</span>: <span class="built_in">require</span>(<span class="string">'./my-component'</span>)</div><div class="line">    }</div><div class="line">})</div></pre></td></tr></table></figure>

<p>And you can test that module like this:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Some Mocha tests</span></div><div class="line"><span class="comment">// using a non-standalone build of the project</span></div><div class="line">describe(<span class="string">'my-component'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{</div><div class="line">    </div><div class="line">    <span class="comment">// require exposed internal module</span></div><div class="line">    <span class="keyword">var</span> myComponent = <span class="built_in">require</span>(<span class="string">'my-project/src/my-component'</span>)</div><div class="line"></div><div class="line">    it(<span class="string">'should have a created hook'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{</div><div class="line">        assert.equal(<span class="keyword">typeof</span> myComponent.created, <span class="string">'function'</span>)</div><div class="line">    })</div><div class="line"></div><div class="line">    it(<span class="string">'should set message in the created hook'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{</div><div class="line">        <span class="keyword">var</span> mock = {}</div><div class="line">        myComponent.created.call(mock)</div><div class="line">        assert.equal(mock.message, <span class="string">'hello!'</span>)</div><div class="line">    })</div><div class="line"></div><div class="line">})</div></pre></td></tr></table></figure>

<p class="tip">Since Vue.js bindings update asynchronously, you should use <code>Vue.nextTick()</code> when asserting DOM updates after changing the data.</p>
    <div class="footer">Caught a mistake or want to contribute to the documentation? <a href="https://github.com/vuejs/vuejs.org" target="_blank">Fork this site on Github</a>!</div>
</div>
            
        </div>

        
            <script src="/js/smooth-scroll.min.js"></script>
            <script src="/js/common.js"></script>
        

    </body>
</html>